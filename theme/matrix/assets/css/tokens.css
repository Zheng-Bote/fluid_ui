/* =========================================================
   GLOBAL SHARED TOKENS (Spacing, Typography, Radius)
   ========================================================= */
:root {
  color-scheme: light dark;

  /* Radius */
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 18px;
  --radius-pill: 999px;

  /* Spacing */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.5rem;
  --space-6: 2rem;

  /* Typography */
  --font-family-sans:
    system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

  --font-size-root: clamp(16px, 1.2vw + 0.5rem, 22px);
  --font-size-small: clamp(0.8rem, 0.96vw + 0.4rem, 1.1rem);
  --font-size-smaller: clamp(0.7rem, 0.84vw + 0.35rem, 0.96rem);

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 600;

  /* Motion */
  --transition-fast: 0.18s ease-out;
  --transition-normal: 0.25s ease;

  /* Default Transition for Theme Switching */
  transition:
    background-color 0.3s ease,
    color 0.3s ease,
    border-color 0.3s ease;
}

/* =========================================================
   THEME DEFINITIONS
   Logic: Each theme defines its palette (Light & Dark) 
   based on a specific HUE.
   ========================================================= */

/* --- BLUE THEME (Default) --- 
   Hue: ~250 (Cool Blue) 
*/
:root,
:root[data-theme="matrix"] {
  /* --- TYPOGRAPHY & SHAPE OVERRIDES --- */
  /* Matrix nutzt Monospace Fonts */
  --font-family-sans: "Courier New", Courier, monospace;

  /* Eckigerer Look fÃ¼r Matrix (Tech-Style) */
  --radius-xs: 2px;
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-pill: 4px; /* Auch Pills eher eckig */

  /* --- PALETTE --- */

  /* Palette: Light (Day Mode Terminal - Pale Green BG, Dark Green Text) */
  /* Optional: Falls du Light Mode erlauben willst */
  --color-bg-light: oklch(0.96 0.02 142); /* Very pale green */
  --color-bg-alt-light: oklch(0.92 0.04 142);
  --color-bg-elevated-light: oklch(1 0 0);

  --color-text-light: oklch(0.2 0.1 142); /* Dark Green Text */
  --color-text-muted-light: oklch(0.4 0.1 142);
  --color-border-light: oklch(0.7 0.1 142);

  /* Palette: Dark (The Real Matrix - Black BG, Neon Green Text) */
  /* #0d0d0d -> oklch(0.05 0 0) */
  --color-bg-dark: oklch(0.05 0 0);
  /* rgba(0, 10, 0, 0.9) -> Darker Green/Black */
  --color-bg-alt-dark: oklch(0.08 0.05 142);
  /* rgba(0, 20, 0, 0.6) -> Glass Green */
  --color-bg-elevated-dark: oklch(0.12 0.08 142);

  /* #00ff41 -> Matrix Green */
  --color-text-dark: oklch(0.85 0.29 142);
  /* #003b00 -> Dark Green (Muted Text) */
  --color-text-muted-dark: oklch(0.5 0.2 142);
  /* #003b00 -> Border */
  --color-border-dark: oklch(0.3 0.15 142);

  /* Primary Colors */
  /* #0aff0a -> Bright Green */
  --color-primary: oklch(0.9 0.37 142);
  /* #00ff41 -> Soft/Regular Green */
  --color-primary-soft: oklch(0.85 0.29 142);
  /* #003b00 -> Dark Green */
  --color-primary-dark: oklch(0.22 0.13 142);

  /* Shadows (Neon Glow) */
  --shadow-soft-light: 0 0 10px oklch(0.85 0.29 142 / 0.2);
  --shadow-soft-dark: 0 0 15px oklch(0.85 0.29 142 / 0.4);

  /* --- MAPPING --- */
  /* Default to Dark Mode mapping if system is dark, otherwise light */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
  --bg-table-odd: var(--bg-alt);
  --bg-table-even: var(--bg-elevated);

  /* CODE TOKENS */
  --code-font-family: "Courier New", Courier, monospace;
  --code-text-shadow: 0 0 2px var(--color-primary);
  --code-background: oklch(0.12 0.08 142);
  --code-color: var(--color-primary);
  --code-border: 1px solid var(--color-primary-dark);
  --code-border-radius: 2px;
  --code-box-shadow: 0 0 8px var(--color-primary-dark);
}

/* Force Dark Mode look usually preferred for Matrix */
:root[data-theme="matrix"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);
}
